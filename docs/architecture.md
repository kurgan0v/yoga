# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≤–µ—Ä—Å–∏—è: –¥–µ–∫–∞–±—Ä—å 2024)

---

## –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–∏—è
- **–í–µ—â—å**: Telegram Mini App –¥–ª—è –π–æ–≥–∏ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏–π —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–≤–∏–∑–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π + UI Kit
- **–°–≤–æ–π—Å—Ç–≤–∞**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, realtime, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram, Supabase, Kinescope, –∞–¥–º–∏–Ω–∫–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–≤–∏–∑–∞, best practices, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω
- **–û—Ç–Ω–æ—à–µ–Ω–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üî –ü—Ä–∞–∫—Ç–∏–∫–∏, –ö–≤–∏–∑ ‚Üî –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, MCP ‚Üî Supabase ‚Üî Frontend, Dev ‚Üî Prod, –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üî –ö–∞—Ç–µ–≥–æ—Ä–∏–∏/–¢–∏–ø—ã, –ê–¥–º–∏–Ω ‚Üî CRUD, Figma ‚Üî UI Kit ‚Üî –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## 1. –û–±—â–∏–π –æ–±–∑–æ—Ä

- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: React + TypeScript, Vite, Supabase (DB + Realtime + Storage), @telegram-apps/sdk-react, @telegram-apps/telegram-ui, Kinescope, MCP (Supabase, Context7), Railway/Vercel (–¥–µ–ø–ª–æ–π)
- **UI Kit**: –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∑–∞–π–Ω–∞ Figma app/ Nowa
- **Dev/Prod –æ—Ç–ª–∏—á–∏—è**: –ª–æ–∫–∞–ª—å–Ω–æ ‚Äî .env.local, dev MCP, –º–æ–∫-—Ä–µ–∂–∏–º Telegram; –ø—Ä–æ–¥ ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel, –±–æ–µ–≤–æ–π Supabase, –≤—Å–µ MCP —á–µ—Ä–µ–∑ prod endpoints
- **Realtime**: –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (users, quiz_steps, quiz_answers, contents) –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Supabase Realtime (WebSocket)
- **MCP**: –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase, –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤, –º–∏–≥—Ä–∞—Ü–∏–π, –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–¥–µ–∫–∞–±—Ä—å 2024)

```
reactjs-template/
  src/
    components/         # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (AppWrapper, Player, TabBar, ...)
    contexts/           # React-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (User, Quiz, Player)
    css/                # –°—Ç–∏–ª–∏
    helpers/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —É—Ç–∏–ª–∏—Ç—ã
    lib/                # –í–Ω–µ—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã (supabase, hooks, utils)
      supabase/
        client.ts       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ Supabase
        hooks/          # –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase
        types.ts        # –¢–∏–ø—ã –¥–ª—è Supabase
    navigation/         # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
    pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Index, Profile, Admin, QuizFlow, Practice, ...)
    ui/                 # üÜï UI Kit - –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      components/       # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Card, Tag)
        Button/
        Card/
        Tag/
        index.ts
      tokens/           # –î–∏–∑–∞–π–Ω —Ç–æ–∫–µ–Ω—ã (—Ü–≤–µ—Ç–∞, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, –æ—Ç—Å—Ç—É–ø—ã)
        colors.ts
        typography.ts
        spacing.ts
        index.ts
      hooks/            # UI —Ö—É–∫–∏
      utils/            # UI —É—Ç–∏–ª–∏—Ç—ã
      index.ts
    utils/              # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
  public/               # –°—Ç–∞—Ç–∏–∫–∞
    assets/             # üÜï –ê—Å—Å–µ—Ç—ã –∏–∑ Figma
      icons/            # SVG –∏–∫–æ–Ω–∫–∏
      images/           # PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      ui/               # UI –∞—Å—Å–µ—Ç—ã
  docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (architecture.md, SHORT_PLANNING.md, TASK.md, ...)
    APP_LOGIC_DOCS/     # –õ–æ–≥–∏–∫–∞ —Ñ–ª–æ—É, —Å—Ö–µ–º—ã, SQL, –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    lib_docs/           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º
    UI_KIT.md           # üÜï –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è UI –∫–∏—Ç–∞
  ...                   # –ö–æ–Ω—Ñ–∏–≥–∏, env, —Å–∫—Ä–∏–ø—Ç—ã
```

---

## 3. UI Kit –∏ –¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### 3.1 –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∏–∑–∞–π–Ω–∞
- **Figma —Ñ–∞–π–ª**: [app/ Nowa](https://www.figma.com/design/x7tx9boUSo5hUKlnQ5vUSk/app--Nowa?node-id=13-2933)
- **–î–∞—Ç–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**: 25 –¥–µ–∫–∞–±—Ä—è 2024
- **–í–µ—Ä—Å–∏—è UI Kit**: 1.0.0

### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ UI Kit
- **–î–∏–∑–∞–π–Ω —Ç–æ–∫–µ–Ω—ã**: —Ü–≤–µ—Ç–∞, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, –æ—Ç—Å—Ç—É–ø—ã, —Ä–∞–∑–º–µ—Ä—ã
- **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: Button, Card, Tag
- **–ê—Å—Å–µ—Ç—ã**: –∏–∫–æ–Ω–∫–∏ (SVG), –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (PNG) –∏–∑ –¥–∏–∑–∞–π–Ω–∞
- **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3.3 –î–∏–∑–∞–π–Ω —Ç–æ–∫–µ–Ω—ã
```typescript
// –¶–≤–µ—Ç–∞
colors.primary.white     // #FFFFFF
colors.primary.black     // #191919
colors.primary.accent    // #9747FF

// –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∞—É—Ä–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (—Å–∏–ª–∞ 2-109)
colors.gradients.strength2.primary    // –û—Ä–∞–Ω–∂–µ–≤—ã–µ —Ç–æ–Ω–∞
colors.gradients.strength109.primary  // –¢–µ–º–Ω—ã–µ —Ç–æ–Ω–∞

// –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
typography.fontFamily.primary  // RF Dewi
typography.fontFamily.mono     // IBM Plex Mono
typography.textStyles.h1       // –ó–∞–≥–æ–ª–æ–≤–∫–∏
typography.textStyles.body     // –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç

// –û—Ç—Å—Ç—É–ø—ã –∏ —Ä–∞–∑–º–µ—Ä—ã
spacing[5]              // 16px
borderRadius.lg         // 32px
sizes.button.md.height  // 56px
```

### 3.4 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Button**: 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ (default, accent, inverted), 2 —Ä–∞–∑–º–µ—Ä–∞
- **Card**: 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ (library, content, favourite)
- **Tag**: 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ (default, difficulty, duration)

### 3.5 –ê—Å—Å–µ—Ç—ã
- **–ò–∫–æ–Ω–∫–∏**: home, settings, play, pause, lock, heart, arrow-down
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: —Ñ–æ–Ω—ã –∫–∞—Ä—Ç–æ—á–µ–∫, –∞–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
- **User**: Telegram user, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Supabase (public.users), –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ initData
- **Practice**: –ö–æ–Ω—Ç–µ–Ω—Ç (–≤–∏–¥–µ–æ, –∞—É–¥–∏–æ, —Ç–∞–π–º–µ—Ä), —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ contents, —Å–≤—è–∑–∞–Ω —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ç–∏–ø–∞–º–∏
- **Quiz**: –ü–æ—à–∞–≥–æ–≤—ã–π –∫–≤–∏–∑ (quiz_steps, quiz_answers), –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ ‚Äî quiz_logic
- **Admin**: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏, –∫–≤–∏–∑–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

### 4.2 –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ State Management
- **UserContext**: –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–µ—Å—Å–∏—è, realtime
- **QuizContext**: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–≤–∏–∑–∞, —à–∞–≥–∏, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- **PlayerContext**: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–µ–µ—Ä–∞ (—Ç–∏–ø, –ø—Ä–æ–≥—Ä–µ—Å—Å, fullscreen, ...)

### 4.3 Realtime –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ realtime —á–µ—Ä–µ–∑ Supabase (channel, on('postgres_changes'))
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è debounce/throttle –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –º–µ—Ä—Ü–∞–Ω–∏—è UI
- –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## 5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)

### 5.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **users**: id, telegram_id, –∏–º—è, username, —Ñ–æ—Ç–æ, last_login, ...
- **contents**: id, title, description, duration, thumbnail_url, content_type_id, category_id, kinescope_id, audio_file_path, ...
- **categories**: id, name, slug, description, display_order, ...
- **content_types**: id, name, slug, description
- **quiz_steps**: id, order, title, type, is_active
- **quiz_answers**: id, question_id, value, label, order
- **quiz_logic**: id, practice_type, duration_min, duration_max, goal, approach, content_id, priority
- **user_quiz_history**: id, user_id, practice_type, duration, goal, approach, content_id, completed, created_at
- **user_stats**: id, user_id, total_practices, total_duration, last_practice_at, streak_days, max_streak_days, practice_stats

### 5.2 –°–≤—è–∑–∏
- contents.category_id ‚Üí categories.id
- contents.content_type_id ‚Üí content_types.id
- quiz_logic.content_id ‚Üí contents.id
- user_quiz_history.user_id ‚Üí users.id
- user_quiz_history.content_id ‚Üí contents.id
- user_stats.user_id ‚Üí users.id

### 5.3 –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- RLS –≤–∫–ª—é—á–µ–Ω –¥–ª—è categories, content_types; –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è users, contents
- –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ APP_LOGIC_DOCS/database_schema.md
- MCP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –º–∏–≥—Ä–∞—Ü–∏–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

---

## 6. –ö–≤–∏–∑: –ª–æ–≥–∏–∫–∞, –ø–æ–∫—Ä—ã—Ç–∏–µ, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 6.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–≤–∏–∑–∞
- –í—Å–µ —à–∞–≥–∏ –∏ –æ–ø—Ü–∏–∏ ‚Äî quiz_steps, quiz_answers (—Ä–µ–∞–ª—Ç–∞–π–º, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É)
- –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ ‚Äî quiz_logic (SQL + JS)
- –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π ‚Äî user_quiz_history (–∏ user_recommended_contents, –µ—Å–ª–∏ –≤–Ω–µ–¥—Ä–∏–º)
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–≤–∏–∑–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ (–∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è)
- –í –∞–¥–º–∏–Ω–∫–µ ‚Äî —Ä–∞–∑–¥–µ–ª "–ü—É—Å—Ç—ã–µ –≤–µ—Ç–∫–∏ –∫–≤–∏–∑–∞" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è

### 6.2 –ü—Ä–∏–º–µ—Ä —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (JS+SQL)
- –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∫–≤–∏–∑–∞ —Ñ–∏–ª—å—Ç—Ä—É–µ–º contents –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º (—Ç–∏–ø, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–ª—å, –ø–æ–¥—Ö–æ–¥, ...)
- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Äî –≤—ã–±–∏—Ä–∞–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏–ª–∏ —Ä–∞–Ω–¥–æ–º–Ω–æ
- –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Äî –ª–æ–≥–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥—ã—Ä)

### 6.3 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ (helpers/quizCombinations.ts) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –í –∞–¥–º–∏–Ω–∫–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è "–¥—ã—Ä—ã" (–Ω–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏)

---

## 7. Realtime: –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Ö–∞–∫–∏

- –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ supabase.channel('...').on('postgres_changes', ...)
- –ò—Å–ø–æ–ª—å–∑—É–µ–º useRef –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤, debounce –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ü—Ä–∏–º–µ—Ä:
```typescript
const channelRef = useRef<RealtimeChannel | null>(null);
const lastUpdateTimeRef = useRef<number>(0);

channelRef.current = supabase.channel('users_changes')
  .on('postgres_changes', { event: '*', schema: 'public', table: 'users' }, (payload) => {
    const now = Date.now();
    if (now - lastUpdateTimeRef.current < 200) return;
    if (debounceTimerRef.current) clearTimeout(debounceTimerRef.current);
    debounceTimerRef.current = setTimeout(() => {
      setState(newState);
      debounceTimerRef.current = null;
    }, 300);
    lastUpdateTimeRef.current = now;
  })
  .subscribe();

useEffect(() => () => {
  if (channelRef.current) channelRef.current.unsubscribe();
  if (debounceTimerRef.current) clearTimeout(debounceTimerRef.current);
}, []);
```
- –í—Å–µ realtime —Ö–∞–∫–∏ –∏ edge-cases –æ–ø–∏—Å–∞–Ω—ã –≤ APP_LOGIC_DOCS/db_changes.md

---

## 8. MCP, environment, dev/prod

- MCP (Supabase, Context7, Figma) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
  - –ú–∏–≥—Ä–∞—Ü–∏–π, –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
  - –ü–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏—è UI –∫–∏—Ç–∞ –∏–∑ Figma
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω—ã –≤ architecture.md –∏ .env.example
- –î–ª—è dev/prod –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏, URL, MCP endpoints
- –î–ª—è Vercel: –≤—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –î–ª—è Railway: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## 9. –ê–¥–º–∏–Ω–∫–∞: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, UX, best practices

- –í—Å—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏, –∫–≤–∏–∑–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ ‚Äî —á–µ—Ä–µ–∑ /admin (route –∑–∞—â–∏—â–µ–Ω)
- –í –∞–¥–º–∏–Ω–∫–µ:
  - CRUD –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫ (contents)
  - CRUD –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Ç–∏–ø–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞–º–∏ –∏ –æ–ø—Ü–∏—è–º–∏ –∫–≤–∏–∑–∞ (quiz_steps, quiz_answers)
  - –†–∞–∑–¥–µ–ª "–ü—É—Å—Ç—ã–µ –≤–µ—Ç–∫–∏ –∫–≤–∏–∑–∞" (–∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è)
  - –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ (Kinescope, Supabase Storage)
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ (—Ä–µ–∞–ª—Ç–∞–π–º)
- UX: —Å–∫—Ä—ã—Ç–∏–µ TabBar, –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∞–º, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –¥—ã—Ä

---

## 10. –ü–ª–µ–µ—Ä—ã: –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ, —Ç–∞–π–º–µ—Ä

- **VideoPlayer**: Kinescope, fullscreen, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º, –≥—Ä–æ–º–∫–æ—Å—Ç—å—é, —Å–∫–æ—Ä–æ—Å—Ç—å—é
- **AudioPlayer**: –∞—É–¥–∏–æ-–º–µ–¥–∏—Ç–∞—Ü–∏–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è, —Ñ–æ–Ω
- **TimerPlayer**: —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏, –∫—Ä—É–≥–æ–≤–æ–π —Ç–∞–π–º–µ—Ä, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –í—Å–µ –ø–ª–µ–µ—Ä—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ PlayerContext, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç mobile UX

---

## 11. UI Kit –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 11.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ
```typescript
// –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
import { Button, Card, Tag } from '@/ui';

// –ò–º–ø–æ—Ä—Ç —Ç–æ–∫–µ–Ω–æ–≤
import { colors, typography, spacing } from '@/ui/tokens';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<Button variant="accent" size="m">–ù–∞—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É</Button>
<Card variant="library" title="–ú–µ–¥–∏—Ç–∞—Ü–∏—è" />
<Tag variant="difficulty">2 —Å–∏–ª—ã</Tag>
```

### 11.2 –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ UI Kit
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∏–∑–∞–π–Ω–æ–º Figma

### 11.3 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ UI Kit
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ Figma
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑–æ–≤—ã—Ö

---

–∑–∞–ø—É—Å–∫–∞–π –±–∏–ª–¥ –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π –≤—Å–µ–≥–¥–∞ —á—Ç–æ–±—ã –ø–æ–ø—Ä–∞–≤–ª—è—Ç—å —Ö—É–π–Ω—é –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏

---

**–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: 25 –¥–µ–∫–∞–±—Ä—è 2024
**–í–µ—Ä—Å–∏—è UI Kit**: 1.0.0
**–°—Ç–∞—Ç—É—Å**: ‚úÖ UI Kit —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω 